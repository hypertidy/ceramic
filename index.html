<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Download Online Imagery Tiles • ceramic</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Download Online Imagery Tiles">
<meta property="og:description" content="Download imagery tiles to a standard cache and load the data into raster objects. 
 Facilities for AWS terrain &lt;https://registry.opendata.aws/terrain-tiles/&gt; terrain and Mapbox 
 &lt;https://www.mapbox.com/&gt; servers are provided. ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ceramic</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.7.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hypertidy/ceramic/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div class="section level1">
<div class="page-header"><h1 id="ceramic">ceramic<a class="anchor" aria-label="anchor" href="#ceramic"></a>
</h1></div>
<p>The goal of ceramic is to obtain web map tiles. Use a spatial object to define the region of interest.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hypertidy/ceramic" class="external-link">ceramic</a></span><span class="op">)</span></span>
<span><span class="va">roi</span> <span class="op">&lt;-</span> <span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/extent.html" class="external-link">extent</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">160</span>, <span class="op">-</span><span class="fl">50</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">im</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cc_location.html">cc_location</a></span><span class="op">(</span><span class="va">roi</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "https://api.mapbox.com/v4/mapbox.satellite/{zoom}/{x}/{y}.jpg?access_token=pk.eyJ1IjoibWRzdW1uZXIiLCJhIjoiY2lleHM3dDk5MDBzbHM4bTM1bjkyY2kwayJ9.IrUihishnOa8w0JFXhXqZA"</span></span>
<span><span class="co">#&gt; Preparing to download: 16 tiles at zoom = 4 from </span></span>
<span><span class="co">#&gt; https://api.mapbox.com/v4/mapbox.satellite/</span></span>
<span></span>
<span><span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plotRGB.html" class="external-link">plotRGB</a></span><span class="op">(</span><span class="va">im</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-1-1.png" width="100%"></p>
<p>We can use raster, sp, or sf objects to define an extent. This provides a very easy way to obtain imagery or elevation data for any almost any region using our own data.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"wrld_simpl"</span>, package <span class="op">=</span> <span class="st">"maptools"</span><span class="op">)</span></span>
<span><span class="va">im</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cc_location.html">cc_location</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">wrld_simpl</span>, <span class="va">NAME</span> <span class="op">==</span> <span class="st">"Bolivia"</span><span class="op">)</span>, </span>
<span>                     type <span class="op">=</span> <span class="st">"mapbox.satellite"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "https://api.mapbox.com/v4/mapbox.satellite/{zoom}/{x}/{y}.jpg?access_token=pk.eyJ1IjoibWRzdW1uZXIiLCJhIjoiY2lleHM3dDk5MDBzbHM4bTM1bjkyY2kwayJ9.IrUihishnOa8w0JFXhXqZA"</span></span>
<span><span class="co">#&gt; Preparing to download: 12 tiles at zoom = 6 from </span></span>
<span><span class="co">#&gt; https://api.mapbox.com/v4/mapbox.satellite/</span></span>
<span><span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plotRGB.html" class="external-link">plotRGB</a></span><span class="op">(</span><span class="va">im</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-extent2-1.png" width="100%"></p>
<p>Even if the data uses a map projection it will be converted into a region to match the Mercator extents used by Mapbox image servers.</p>
<p>There are basic heuristics to decide if data is projected or just in “longitude,latitude” in the usual raster package way.</p>
<p>Raster elevation data is also available.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">north</span> <span class="op">&lt;-</span> <span class="va">nz</span><span class="op">[</span><span class="va">nz</span><span class="op">$</span><span class="va">Island</span> <span class="op">==</span> <span class="st">"North"</span>, <span class="op">]</span></span>
<span><span class="va">dem_nz</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cc_location.html">cc_location</a></span><span class="op">(</span><span class="va">north</span>, type <span class="op">=</span> <span class="st">"elevation-tiles-prod"</span> <span class="op">)</span></span>
<span><span class="co">#&gt; [1] "https://s3.amazonaws.com/elevation-tiles-prod/geotiff/{zoom}/{x}/{y}.tif"</span></span>
<span><span class="co">#&gt; Preparing to download: 15 tiles at zoom = 7 from </span></span>
<span><span class="co">#&gt; https://s3.amazonaws.com/elevation-tiles-prod/geotiff/</span></span>
<span></span>
<span></span>
<span><span class="co">## plot elevation data for NZ north</span></span>
<span><span class="va">dem_nz</span><span class="op">[</span><span class="op">!</span><span class="va">dem_nz</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dem_nz</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/gray.html" class="external-link">grey</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, length <span class="op">=</span> <span class="fl">51</span><span class="op">)</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/values.html" class="external-link">values</a></span><span class="op">(</span><span class="va">dem_nz</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, length <span class="op">=</span> <span class="fl">52</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">st_transform</span><span class="op">(</span><span class="fu">st_cast</span><span class="op">(</span><span class="va">north</span>, <span class="st">"MULTILINESTRING"</span><span class="op">)</span><span class="op">[</span><span class="st">"Name"</span><span class="op">]</span>, <span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/projection.html" class="external-link">projection</a></span><span class="op">(</span><span class="va">dem_nz</span><span class="op">)</span><span class="op">)</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, lwd <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-2-1.png" width="100%"></p>
<div class="section level2">
<h2 id="i-thought-you-said-tiles">I thought you said <em>tiles</em>?<a class="anchor" aria-label="anchor" href="#i-thought-you-said-tiles"></a>
</h2>
<p>Indeed, the <code><a href="reference/cc_location.html">cc_location()</a></code> and <code><a href="reference/cc_location.html">cc_elevation()</a></code> functions run <code><a href="reference/get_tiles.html">get_tiles()</a></code> behind the scenes.</p>
<p>This function and its counterparts <code><a href="reference/get-tiles-constrained.html">get_tiles_zoom()</a></code>, <code><a href="reference/get-tiles-constrained.html">get_tiles_dim()</a></code> and <code><a href="reference/get-tiles-constrained.html">get_tiles_buffer()</a></code> will <em>only download files</em>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tile_summ</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get-tiles-constrained.html">get_tiles_zoom</a></span><span class="op">(</span><span class="va">north</span>, zoom <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "https://api.mapbox.com/v4/mapbox.satellite/{zoom}/{x}/{y}.png?access_token=pk.eyJ1IjoibWRzdW1uZXIiLCJhIjoiY2lleHM3dDk5MDBzbHM4bTM1bjkyY2kwayJ9.IrUihishnOa8w0JFXhXqZA"</span></span>
<span><span class="co">#&gt; Preparing to download: 48 tiles at zoom = 8 from </span></span>
<span><span class="co">#&gt; https://api.mapbox.com/v4/mapbox.satellite/</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">tile_summ</span><span class="op">$</span><span class="va">files</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 48</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">tile_summ</span><span class="op">$</span><span class="va">tiles</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 2</span></span>
<span><span class="co">#&gt;  $ tiles:'data.frame':   48 obs. of  2 variables:</span></span>
<span><span class="co">#&gt;   ..$ x: int [1:48] 250 251 252 253 254 255 250 251 252 253 ...</span></span>
<span><span class="co">#&gt;   ..$ y: int [1:48] 153 153 153 153 153 153 154 154 154 154 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "out.attrs")=List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ dim     : Named int [1:2] 6 8</span></span>
<span><span class="co">#&gt;   .. .. ..- attr(*, "names")= chr [1:2] "x" "y"</span></span>
<span><span class="co">#&gt;   .. ..$ dimnames:List of 2</span></span>
<span><span class="co">#&gt;   .. .. ..$ x: chr [1:6] "x=250" "x=251" "x=252" "x=253" ...</span></span>
<span><span class="co">#&gt;   .. .. ..$ y: chr [1:8] "y=153" "y=154" "y=155" "y=156" ...</span></span>
<span><span class="co">#&gt;  $ zoom : num 8</span></span>
<span><span class="co">#&gt;  - attr(*, "class")= chr "tile_grid"</span></span></code></pre></div>
<p>This is really for expert use when you want to control the downloaded tile files yourself directly.</p>
</div>
<div class="section level2">
<h2 id="providers">Providers<a class="anchor" aria-label="anchor" href="#providers"></a>
</h2>
<p>The default map provider is <a href="https://www.mapbox.com/" class="external-link">Mapbox</a>, but ceramic is written for general usage and also provides access to the <a href="https://github.com/tilezen/joerd/" class="external-link">joerd AWS tiles</a> via the <code>type = "elevation-tiles-prod"</code> argument.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fl">175.6082</span>, <span class="op">-</span><span class="fl">37.994</span><span class="op">)</span></span>
<span><span class="va">nz_z12</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cc_location.html">cc_location</a></span><span class="op">(</span><span class="va">pt</span>, zoom <span class="op">=</span> <span class="fl">12</span>, type <span class="op">=</span> <span class="st">"elevation-tiles-prod"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "https://s3.amazonaws.com/elevation-tiles-prod/geotiff/{zoom}/{x}/{y}.tif"</span></span>
<span><span class="co">#&gt; Preparing to download: 4 tiles at zoom = 12 from </span></span>
<span><span class="co">#&gt; https://s3.amazonaws.com/elevation-tiles-prod/geotiff/</span></span></code></pre></div>
<p>Use <code>max_tiles</code> or <code>zoom</code> to increase or decrease resolution.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">im1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cc_location.html">cc_location</a></span><span class="op">(</span><span class="va">im</span>, debug <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "https://api.mapbox.com/v4/mapbox.satellite/{zoom}/{x}/{y}.jpg?access_token=pk.eyJ1IjoibWRzdW1uZXIiLCJhIjoiY2lleHM3dDk5MDBzbHM4bTM1bjkyY2kwayJ9.IrUihishnOa8w0JFXhXqZA"</span></span>
<span><span class="co">#&gt; Preparing to download: 12 tiles at zoom = 6 from </span></span>
<span><span class="co">#&gt; https://api.mapbox.com/v4/mapbox.satellite/</span></span>
<span><span class="co">#&gt; [1] "~/.cache/.ceramic/api.mapbox.com/v4/mapbox.satellite/6/19/33.jpg"</span></span>
<span><span class="co">#&gt; [1] "~/.cache/.ceramic/api.mapbox.com/v4/mapbox.satellite/6/20/33.jpg"</span></span>
<span><span class="co">#&gt; [1] "~/.cache/.ceramic/api.mapbox.com/v4/mapbox.satellite/6/21/33.jpg"</span></span>
<span><span class="co">#&gt; [1] "~/.cache/.ceramic/api.mapbox.com/v4/mapbox.satellite/6/19/34.jpg"</span></span>
<span><span class="co">#&gt; [1] "~/.cache/.ceramic/api.mapbox.com/v4/mapbox.satellite/6/20/34.jpg"</span></span>
<span><span class="co">#&gt; [1] "~/.cache/.ceramic/api.mapbox.com/v4/mapbox.satellite/6/21/34.jpg"</span></span>
<span><span class="co">#&gt; [1] "~/.cache/.ceramic/api.mapbox.com/v4/mapbox.satellite/6/19/35.jpg"</span></span>
<span><span class="co">#&gt; [1] "~/.cache/.ceramic/api.mapbox.com/v4/mapbox.satellite/6/20/35.jpg"</span></span>
<span><span class="co">#&gt; [1] "~/.cache/.ceramic/api.mapbox.com/v4/mapbox.satellite/6/21/35.jpg"</span></span>
<span><span class="co">#&gt; [1] "~/.cache/.ceramic/api.mapbox.com/v4/mapbox.satellite/6/19/36.jpg"</span></span>
<span><span class="co">#&gt; [1] "~/.cache/.ceramic/api.mapbox.com/v4/mapbox.satellite/6/20/36.jpg"</span></span>
<span><span class="co">#&gt; [1] "~/.cache/.ceramic/api.mapbox.com/v4/mapbox.satellite/6/21/36.jpg"</span></span>
<span><span class="va">im2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cc_location.html">cc_location</a></span><span class="op">(</span><span class="va">im</span>, zoom <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "https://api.mapbox.com/v4/mapbox.satellite/{zoom}/{x}/{y}.jpg?access_token=pk.eyJ1IjoibWRzdW1uZXIiLCJhIjoiY2lleHM3dDk5MDBzbHM4bTM1bjkyY2kwayJ9.IrUihishnOa8w0JFXhXqZA"</span></span>
<span><span class="co">#&gt; Preparing to download: 30 tiles at zoom = 7 from </span></span>
<span><span class="co">#&gt; https://api.mapbox.com/v4/mapbox.satellite/</span></span>
<span></span>
<span><span class="va">im1</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span></span>
<span><span class="va">im2</span></span>
<span><span class="co">#&gt; class      : RasterBrick </span></span>
<span><span class="co">#&gt; dimensions : 1255, 1104, 1385520, 3  (nrow, ncol, ncell, nlayers)</span></span>
<span><span class="co">#&gt; resolution : 1222.992, 1222.992  (x, y)</span></span>
<span><span class="co">#&gt; extent     : -7751326, -6401142, -2606197, -1071341  (xmin, xmax, ymin, ymax)</span></span>
<span><span class="co">#&gt; crs        : +proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +R=6378137 +units=m +no_defs </span></span>
<span><span class="co">#&gt; source     : memory</span></span>
<span><span class="co">#&gt; names      : layer.1, layer.2, layer.3 </span></span>
<span><span class="co">#&gt; min values :       0,       0,       0 </span></span>
<span><span class="co">#&gt; max values :     255,     255,     253</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install ceramic from CRAN with:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"ceramic"</span><span class="op">)</span></span></code></pre></div>
<p>You can install the development version of ceramic from Github.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"hypertidy/ceramic"</span><span class="op">)</span></span></code></pre></div>
<p>Set your mapbox API key with</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>MAPBOX_API_KEY <span class="op">=</span> <span class="st">"&lt;yourkey&gt;"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This complete example gets tiled imagery that we can use as real data.</p>
<p>The code here</p>
<ul>
<li>generates a bounding box in longitude-latitude</li>
<li>uses <a href="https://CRAN.r-project.org/package=slippymath" class="external-link">slippymath</a> to find sensible tiles for the region</li>
<li>downloads them to a local cache</li>
<li>georeferences them and merges the tiles into a sensible raster object</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hypertidy/ceramic" class="external-link">ceramic</a></span><span class="op">)</span></span>
<span><span class="co">## a point in longlat, and a buffer with in metres</span></span>
<span><span class="va">pt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fl">136</span>, <span class="op">-</span><span class="fl">34</span><span class="op">)</span></span>
<span><span class="va">im</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cc_location.html">cc_location</a></span><span class="op">(</span><span class="va">pt</span>, buffer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1e6</span>, <span class="fl">5e5</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"mapbox.satellite"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "https://api.mapbox.com/v4/mapbox.satellite/{zoom}/{x}/{y}.jpg?access_token=pk.eyJ1IjoibWRzdW1uZXIiLCJhIjoiY2lleHM3dDk5MDBzbHM4bTM1bjkyY2kwayJ9.IrUihishnOa8w0JFXhXqZA"</span></span>
<span><span class="co">#&gt; Preparing to download: 12 tiles at zoom = 6 from </span></span>
<span><span class="co">#&gt; https://api.mapbox.com/v4/mapbox.satellite/</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/raster" class="external-link">raster</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: sp</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plotRGB.html" class="external-link">plotRGB</a></span><span class="op">(</span><span class="va">im</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## get the matching tiles (zoom is magic here, it's all wrapped - needs thought)</span></span>
<span></span>
<span><span class="va">tiles</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ceramic_tiles.html">ceramic_tiles</a></span><span class="op">(</span>zoom <span class="op">=</span> <span class="fl">6</span>, type <span class="op">=</span> <span class="st">"mapbox.satellite"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">st_geometry</span><span class="op">(</span><span class="fu">ceramic</span><span class="fu">:::</span><span class="fu"><a href="reference/plot_tiles.html">tiles_to_polygon</a></span><span class="op">(</span><span class="va">tiles</span><span class="op">)</span><span class="op">)</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">middle</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">x</span> <span class="op">+</span> <span class="op">(</span><span class="va">y</span> <span class="op">-</span> <span class="va">x</span><span class="op">)</span><span class="op">/</span><span class="fl">2</span></span>
<span><span class="op">}</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span><span class="fu">middle</span><span class="op">(</span><span class="va">tiles</span><span class="op">$</span><span class="va">xmin</span>, <span class="va">tiles</span><span class="op">$</span><span class="va">xmax</span><span class="op">)</span>, <span class="fu">middle</span><span class="op">(</span><span class="va">tiles</span><span class="op">$</span><span class="va">ymin</span>, <span class="va">tiles</span><span class="op">$</span><span class="va">ymax</span><span class="op">)</span>, lab <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"[%i,%i]"</span>, <span class="va">tiles</span><span class="op">$</span><span class="va">tile_x</span>, <span class="va">tiles</span><span class="op">$</span><span class="va">tile_y</span><span class="op">)</span>, </span>
<span>     col <span class="op">=</span> <span class="st">"firebrick"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-example-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="get-imagery-and-dem-for-use-in-3d-visualization">Get imagery and DEM for use in 3D visualization<a class="anchor" aria-label="anchor" href="#get-imagery-and-dem-for-use-in-3d-visualization"></a>
</h2>
<p>This code downloads a specific region as elevation and imagery at specific zoom levels to build <a href="https://hypertidy.github.io/anglr-demos/ceramic-demo01.html" class="external-link">a 3D scene</a>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hypertidy/ceramic" class="external-link">ceramic</a></span><span class="op">)</span>; <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hypertidy/quadmesh" class="external-link">quadmesh</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/raster" class="external-link">raster</a></span><span class="op">)</span>; <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dmurdoch/rgl" class="external-link">rgl</a></span><span class="op">)</span>;</span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hypertidy/reproj/" class="external-link">reproj</a></span><span class="op">)</span>; <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ramnathv/htmlwidgets" class="external-link">htmlwidgets</a></span><span class="op">)</span></span>
<span><span class="fu">clear3d</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## longlat extent</span></span>
<span><span class="va">ex0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">147.15</span>, <span class="fl">147.45</span>, <span class="op">-</span><span class="fl">42.9</span>, <span class="op">-</span><span class="fl">42.6</span><span class="op">)</span></span>
<span><span class="va">ex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/extent.html" class="external-link">extent</a></span><span class="op">(</span><span class="va">ex0</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## local LAEA projection, based on the centre of the extent</span></span>
<span><span class="va">prj</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"+proj=laea +lon_0=%f +lat_0=%f +datum=WGS84"</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">ex0</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">ex0</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## Mapbox elevation</span></span>
<span><span class="va">dem</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cc_location.html">cc_elevation</a></span><span class="op">(</span><span class="va">ex</span>, zoom <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span>
<span><span class="co">## Mapbox satellite imagery</span></span>
<span><span class="va">im</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cc_location.html">cc_location</a></span><span class="op">(</span><span class="va">ex</span>, zoom <span class="op">=</span> <span class="fl">13</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## quadmesh with texture for rgl, in local projection</span></span>
<span><span class="va">qm</span> <span class="op">&lt;-</span> <span class="fu">reproj</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/reproj/man/reproj.html" class="external-link">reproj</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/quadmesh/man/quadmesh.html" class="external-link">quadmesh</a></span><span class="op">(</span><span class="va">dem</span>, texture <span class="op">=</span> <span class="va">im</span><span class="op">)</span>, <span class="va">prj</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## plot with rgl, set the aspect ratio and backround</span></span>
<span><span class="fu">shade3d</span><span class="op">(</span><span class="va">qm</span>, lit <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>;</span>
<span><span class="fu">aspect3d</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">.1</span><span class="op">)</span></span>
<span><span class="fu">bg3d</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/gray.html" class="external-link">grey</a></span><span class="op">(</span><span class="fl">0.8</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The zoom levels were chosen by first reading an automatic level for the extents, and then tweaking the zoom - higher resolution for the imagery, lower resolution for the elevation. This provides a compelling visualization in 3D as the imagery is <em>textured</em> onto the elevation data, using rgl’s <code>mesh3d</code> type and <code>shade3d()</code> function.</p>
</div>
<div class="section level2">
<h2 id="local-caching-of-tiles">Local caching of tiles<a class="anchor" aria-label="anchor" href="#local-caching-of-tiles"></a>
</h2>
<p>A key feature of ceramic is <em>caching</em>, all data is downloaded in a systematic way that is suitable for later re-use. Many tools for imagery services treat the imagery as transient, but here we take control over the raw data itself. All file names match exactly the address URL of the original source data.</p>
<p>There is a helper function to find existing tiles.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">aa</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cc_location.html">cc_location</a></span><span class="op">(</span>loc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>, buffer <span class="op">=</span> <span class="fl">330000</span>, type <span class="op">=</span> <span class="st">"mapbox.satellite"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "https://api.mapbox.com/v4/mapbox.satellite/{zoom}/{x}/{y}.jpg?access_token=pk.eyJ1IjoibWRzdW1uZXIiLCJhIjoiY2lleHM3dDk5MDBzbHM4bTM1bjkyY2kwayJ9.IrUihishnOa8w0JFXhXqZA"</span></span>
<span><span class="co">#&gt; Preparing to download: 16 tiles at zoom = 7 from </span></span>
<span><span class="co">#&gt; https://api.mapbox.com/v4/mapbox.satellite/</span></span>
<span><span class="fu"><a href="reference/ceramic_tiles.html">ceramic_tiles</a></span><span class="op">(</span>zoom <span class="op">=</span> <span class="fl">7</span>, type <span class="op">=</span> <span class="st">"mapbox.satellite"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 54 × 11</span></span>
<span><span class="co">#&gt;    tile_x tile_y  zoom type    version source fullname      xmin    xmax    ymin</span></span>
<span><span class="co">#&gt;     &lt;int&gt;  &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  &lt;fs::path&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1     34     50     7 mapbox… v4      api.m… …34/50.jpg -9.39e6 -9.08e6  4.07e6</span></span>
<span><span class="co">#&gt;  2     34     51     7 mapbox… v4      api.m… …34/51.jpg -9.39e6 -9.08e6  3.76e6</span></span>
<span><span class="co">#&gt;  3     35     50     7 mapbox… v4      api.m… …35/50.jpg -9.08e6 -8.77e6  4.07e6</span></span>
<span><span class="co">#&gt;  4     35     51     7 mapbox… v4      api.m… …35/51.jpg -9.08e6 -8.77e6  3.76e6</span></span>
<span><span class="co">#&gt;  5     36     50     7 mapbox… v4      api.m… …36/50.jpg -8.77e6 -8.45e6  4.07e6</span></span>
<span><span class="co">#&gt;  6     36     51     7 mapbox… v4      api.m… …36/51.jpg -8.77e6 -8.45e6  3.76e6</span></span>
<span><span class="co">#&gt;  7     37     50     7 mapbox… v4      api.m… …37/50.jpg -8.45e6 -8.14e6  4.07e6</span></span>
<span><span class="co">#&gt;  8     37     51     7 mapbox… v4      api.m… …37/51.jpg -8.45e6 -8.14e6  3.76e6</span></span>
<span><span class="co">#&gt;  9     39     67     7 mapbox… v4      api.m… …39/67.jpg -7.83e6 -7.51e6 -1.25e6</span></span>
<span><span class="co">#&gt; 10     39     68     7 mapbox… v4      api.m… …39/68.jpg -7.83e6 -7.51e6 -1.57e6</span></span>
<span><span class="co">#&gt; # … with 44 more rows, and 1 more variable: ymax &lt;dbl&gt;</span></span></code></pre></div>
<p>and every row has the extent values useable directly by raster:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ceramic_tiles.html">ceramic_tiles</a></span><span class="op">(</span>zoom <span class="op">=</span> <span class="fl">7</span>, type <span class="op">=</span> <span class="st">"mapbox.satellite"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> </span>
<span>   <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/transpose.html" class="external-link">transpose</a></span><span class="op">(</span><span class="op">)</span>  <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="op">~</span><span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/extent.html" class="external-link">extent</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">.x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"xmin"</span>, <span class="st">"xmax"</span>, <span class="st">"ymin"</span>, <span class="st">"ymax"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; class      : Extent </span></span>
<span><span class="co">#&gt; xmin       : -9392582 </span></span>
<span><span class="co">#&gt; xmax       : -9079496 </span></span>
<span><span class="co">#&gt; ymin       : 4070119 </span></span>
<span><span class="co">#&gt; ymax       : 4383205 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; class      : Extent </span></span>
<span><span class="co">#&gt; xmin       : -9392582 </span></span>
<span><span class="co">#&gt; xmax       : -9079496 </span></span>
<span><span class="co">#&gt; ymin       : 3757033 </span></span>
<span><span class="co">#&gt; ymax       : 4070119 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; class      : Extent </span></span>
<span><span class="co">#&gt; xmin       : -9079496 </span></span>
<span><span class="co">#&gt; xmax       : -8766410 </span></span>
<span><span class="co">#&gt; ymin       : 4070119 </span></span>
<span><span class="co">#&gt; ymax       : 4383205 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]</span></span>
<span><span class="co">#&gt; class      : Extent </span></span>
<span><span class="co">#&gt; xmin       : -9079496 </span></span>
<span><span class="co">#&gt; xmax       : -8766410 </span></span>
<span><span class="co">#&gt; ymin       : 3757033 </span></span>
<span><span class="co">#&gt; ymax       : 4070119 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[5]]</span></span>
<span><span class="co">#&gt; class      : Extent </span></span>
<span><span class="co">#&gt; xmin       : -8766410 </span></span>
<span><span class="co">#&gt; xmax       : -8453324 </span></span>
<span><span class="co">#&gt; ymin       : 4070119 </span></span>
<span><span class="co">#&gt; ymax       : 4383205</span></span></code></pre></div>
<p>Another example</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_bbox</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">st_bbox</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>xmin <span class="op">=</span> <span class="fl">144</span>,</span>
<span>            xmax <span class="op">=</span> <span class="fl">147.99</span>,</span>
<span>            ymin <span class="op">=</span> <span class="op">-</span><span class="fl">44.12</span>,</span>
<span>            ymax <span class="op">=</span> <span class="op">-</span><span class="fl">40</span><span class="op">)</span>,</span>
<span>          crs <span class="op">=</span> <span class="fu">st_crs</span><span class="op">(</span><span class="st">"+proj=longlat +ellps=WGS84"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">im</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cc_location.html">cc_location</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fl">145.5</span>, <span class="op">-</span><span class="fl">42.2</span><span class="op">)</span>, buffer <span class="op">=</span> <span class="fl">5e5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "https://api.mapbox.com/v4/mapbox.satellite/{zoom}/{x}/{y}.jpg?access_token=pk.eyJ1IjoibWRzdW1uZXIiLCJhIjoiY2lleHM3dDk5MDBzbHM4bTM1bjkyY2kwayJ9.IrUihishnOa8w0JFXhXqZA"</span></span>
<span><span class="co">#&gt; Preparing to download: 6 tiles at zoom = 6 from </span></span>
<span><span class="co">#&gt; https://api.mapbox.com/v4/mapbox.satellite/</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plotRGB.html" class="external-link">plotRGB</a></span><span class="op">(</span><span class="va">im</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">st_transform</span><span class="op">(</span><span class="fu">ozmaps</span><span class="fu">::</span><span class="va">abs_lga</span><span class="op">$</span><span class="va">geometry</span>, <span class="fu"><a href="https://rdrr.io/pkg/raster/man/projection.html" class="external-link">projection</a></span><span class="op">(</span><span class="va">im</span><span class="op">)</span><span class="op">)</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, lwd <span class="op">=</span> <span class="fl">2</span>, border <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-tasmania-1.png" width="100%"></p>
<p>An internal function sets up a plot of tiles at particular zoom levels.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ceramic</span><span class="fu">::</span><span class="fu"><a href="reference/plot_tiles.html">plot_tiles</a></span><span class="op">(</span><span class="fu"><a href="reference/ceramic_tiles.html">ceramic_tiles</a></span><span class="op">(</span>zoom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fl">9</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="reference/figures/README-tile-plot.png" alt=""><p class="caption">tile plot</p>
</div>
<p>And we can add the tiles to an existing plot.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plotRGB.html" class="external-link">plotRGB</a></span><span class="op">(</span><span class="va">im</span><span class="op">)</span></span>
<span><span class="fu">ceramic</span><span class="fu">::</span><span class="fu"><a href="reference/plot_tiles.html">plot_tiles</a></span><span class="op">(</span><span class="fu"><a href="reference/ceramic_tiles.html">ceramic_tiles</a></span><span class="op">(</span>zoom <span class="op">=</span> <span class="fl">7</span><span class="op">)</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="reference/figures/README-tile-add-plot.png" alt=""><p class="caption">tile add plot</p>
</div>
</div>
</div>
<div class="section level1">
<h1 id="future-improvements">Future improvements<a class="anchor" aria-label="anchor" href="#future-improvements"></a>
</h1>
<p>See the <a href="https://github.com/hypertidy/ceramic/issues/" class="external-link">Issue tab</a> and please make suggestions and give feedback!</p>
<p>There’s an ongoing process to uncouple from the “spatial packages”, currently we have an unclassy mix of sp, terra, raster, and even sf in the readme. We’ll fix it.</p>
<hr>
<p>Please note that the ‘ceramic’ project is released with a <a href="https://github.com/hypertidy/ceramic/blob/master/CODE_OF_CONDUCT.md" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=ceramic" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/hypertidy/ceramic/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/hypertidy/ceramic/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ceramic</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Michael Sumner <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-2471-7511" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/hypertidy/ceramic/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/hypertidy/ceramic/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Michael Sumner.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
